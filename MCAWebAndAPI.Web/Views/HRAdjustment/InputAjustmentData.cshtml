
@using MCAWebAndAPI.Model.ViewModel.Form.HR
@using MCAWebAndAPI.Web.Helpers

@model AdjustmentDataVM

@{
    ViewBag.Title = "Input Compensatory HR";
}

@using (Html.BeginForm("CreateAdjustmentData", "HRCompensatory", FormMethod.Post, new AjaxOptions
{
    OnBegin = "onBeginForm",
    OnComplete = "onCompleteForm",
    OnSuccess = "onSuccessFormEmbed",
    OnFailure = "onFailureForm"

}))
{
    <fieldset>
        <input type="hidden" id="loadpage" value="0">

        <div class="row">
            <div class="form-group">
                @Html.Bootstrap().LabelFor(m => m.periodDate).Class("col-xs-2 control-label")
                <div class="col-xs-4">
                    @Html.EditorFor(m => m.periodDate)
                </div>
            </div>
        </div>
        
        <legend>Compensatory list</legend>
        <div id="compensatorylist" class="row"></div>

        <button id="submithr-button" class="btn btn-primary" type="submit">
            <i class="fa fa-save"></i>
            Save
        </button>

        <button id="cancel-button" class="btn btn-dannger" type="submit">
            <i class="fa fa-save"></i>
            cancel
        </button>

    </fieldset>
}

@section scripts{

    <script>
        $(document).ready(function () {

            var url = "/HRAdjustment/GetAdjustmentDetails?idComp=" + $("#cmpID").val();

            $('#compensatorylist').load(url, function (response, status, xhr) {
                if (status == "success") {
                }
            });

            function OnChangeProffesional(e) {
                var dataItem = this.dataItem(e.item);
                var eMail = dataItem.OfficeEmail

                showLoading();
                if (eMail != null) {
                    displayWorkflowRouter("workflow-placeholder", "@ViewBag.ListName", eMail);
                    hideLoading();
                }
            };
        });

    </script>
}





