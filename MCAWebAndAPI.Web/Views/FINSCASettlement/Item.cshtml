@model MCAWebAndAPI.Model.ViewModel.Form.Finance.SCASettlementVM

@using (Html.BeginForm(
                            "Save", "FINSCASettlement",
                            FormMethod.Post,
                            new
                            {
                                @class = "form-horizontal",
                                enctype = "multipart/form-data"
                            }))
{

    <fieldset>
        <legend>SCA Settlement</legend>
        <div class="row">
            <div class="col-sm-6">
                @Html.HiddenFor(m => m.ID)
                @Html.HiddenFor(m => m.DocNo)
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                    @Html.Bootstrap().LabelFor(m => m.SCACouvher).Class("col-sm-3 control-label")
                    <div class="col-sm-8">
                        @Html.EditorFor(m => m.SCACouvher)
                    </div>
                </div>
                <div class="form-group">
                    @Html.Bootstrap().LabelFor(m => m.Description).Class("col-sm-3 control-label")
                    <div class="col-sm-8">
                        @Html.DisplayFor(m => m.Description)
                    </div>
                </div>
                <div class="form-group">
                    @Html.Bootstrap().LabelFor(m => m.Fund).Class("col-sm-3 control-label")
                    <div class="col-sm-8">
                        @Html.DisplayFor(m => m.Fund)
                    </div>
                </div>
                <div class="form-group">
                    @Html.Bootstrap().LabelFor(m => m.TypeOfSettlement).Class("col-sm-3 control-label")
                    <div class="col-sm-8">
                        @Html.EditorFor(m => m.TypeOfSettlement)
                    </div>
                </div>
            </div>
            <!-- Right Column -->
            <div class="col-sm-6">
                <div class="form-group">
                    @Html.Bootstrap().LabelFor(m => m.Currency).Class("col-sm-3 control-label")
                    <div class="col-sm-5">
                        @Html.DisplayFor(m => m.Currency)
                    </div>
                </div>
               
                <div class="form-group">
                    @Html.Bootstrap().LabelFor(m => m.SpecialCashAdvanceAmount).Class("col-sm-3 control-label")
                    <div class="col-sm-7">
                        @Html.DisplayFor(m => m.SpecialCashAdvanceAmount)
                    </div>
                </div>
                <div class="form-group">
                    @Html.Bootstrap().LabelFor(m => m.TotalExpense).Class("col-sm-3 control-label")
                    <div class="col-sm-8">
                        @Html.EditorFor(m => m.TotalExpense, new { HtmlAttributes = new { @class = "textbox-padding6px-readonly", @readonly = "readonly" } })
                    </div>
                </div>
                <div class="form-group">
                    @Html.Bootstrap().LabelFor(m => m.ReceivedFromTo).Class("col-sm-3 control-label")
                    <div class="col-sm-8">
                        @Html.EditorFor(m => m.ReceivedFromTo, new { HtmlAttributes = new { @class = "textbox-padding6px-readonly", @readonly = "readonly" } })
                    </div>
                </div>
            </div>

        </div>
        <legend>Item Details</legend>
        <div class="row">
            @Html.Partial("_ItemDetails", Model.ItemDetails)
        </div>
    </fieldset>
}

@section scripts{
    <script type="text/javascript">
        $(document).ready(function () {

            $('#print-button').click(function (e) {
                if (!$('form').valid()) {
                    alert('Please make sure that all required fields are filled');
                    return;
                }

                var actionUrl = $('form').attr("action");
                var newActionUrl = actionUrl.replace("Save", "Print");

                $('form').prop('action', newActionUrl);
                $('form').submit();

            });

        });

      
    </script>
}
